class Solution {
    bool static comp(pair<int,int> &p1, pair<int,int> &p2) {
        if(p1.first == p2.first) return p1.second < p2.second;
        return p1.first < p2.first;
    }
public:
    int minimumDistance(vector<int>& nums) {
        vector<pair<int,int>> arr;
        for(int i=0;i<nums.size();i++) {
            arr.push_back({nums[i], i});
        }

        sort(arr.begin(), arr.end(), comp);

        unordered_map<int,int> mp;
        int ans = INT_MAX;
        int i = 0, j = 0, n = arr.size();
        while(j < n) {
            mp[arr[j].first]++;
            if(j-i+1 < 3) j++;
            else {
                if(mp.size() == 1) {
                    ans = min(ans, abs(arr[i].second - arr[j].second)
                    + abs(arr[i].second - arr[i+1].second)
                    + abs(arr[i+1].second - arr[j].second));
                }
                mp[arr[i].first]--;
                if(mp[arr[i].first] == 0)
                    mp.erase(arr[i].first);
                i++;
                j++;
            }
        }
        return ans == INT_MAX ? -1 : ans;
    }
};
