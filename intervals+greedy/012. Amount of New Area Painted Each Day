#include <bits/stdc++.h>
using namespace std;

vector<int> amountPainted(vector<vector<int>>& paint) {
  set<pair<int,int>> s;
  
  vector<int> ans;
  for(auto p: paint) {
    int left = p[0], right = p[1];
    
    int cnt = 0;
    auto it = s.lower_bound({left, right});
    if(it != s.begin() && prev(it)->second > left) it--;
    while(it != s.end() && right > it->first) {
      left = min(left, it->first);
      right = max(right, it->second);
      cnt += it->second - it->first;
      auto temp = it;
      it++;
      s.erase(temp);
    }
    s.insert({left, right});
    ans.push_back(right-left - cnt);
  }
  return ans;
}

int main() 
{
    vector<vector<int>> paint = {{1,5},{2,4}};
    vector<int> ans = amountPainted(paint);
    for(auto it:ans) cout << it << " ";
    return 0;
}
