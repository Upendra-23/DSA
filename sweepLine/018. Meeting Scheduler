// https://www.geeksforgeeks.org/problems/earliest-common-slot/1

class Solution {
  public:
    vector<int> commonSlot(vector<vector<int>> &a, vector<vector<int>> &b, int d) {
        // Code Here
        map<int,int> mp;
        for(auto it:a){
            mp[it[0]]++;
            mp[it[1]]--;
        }
        
        for(auto it:b){
            mp[it[0]]++;
            mp[it[1]]--;
        }
        
        int count = 0, flag = false, start;
        for(auto it:mp){
           count += it.second;
           if(count == 2 && !flag){
               start = it.first;
               flag = true;
           }
           else if(count < 2 && flag){
               int diff = it.first - start;
               if(diff >= d) return {start, start + d};
               else flag = false;
           }
        }
        return {};
    }
};
